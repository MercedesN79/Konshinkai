<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>大学院生懇親会ビンゴ</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin: 20px;
    }
    #bingo {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 5px;
      max-width: 600px;
      margin: 20px auto;
    }
    .cell {
      padding: 10px;
      border: 1px solid #999;
      border-radius: 6px;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      background-color: #f9f9f9;
    }
    .free {
      background-color: #ffe4b5;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>大学院生懇親会ビンゴ</h1>
  <label for="university">所属大学を選んでください：</label>
  <select id="university">
    <option value="">--選択--</option>
    <option value="京">京都大学</option>
    <option value="九">九州大学</option>
    <option value="広">広島大学</option>
    <option value="東">東京大学</option>
    <option value="名">名古屋大学</option>
  </select>
  <button onclick="generateBingo()">ビンゴ生成</button>

  <div id="bingo"></div>

  <script>
    const bingoData = [
      { text: "コーヒーや紅茶などの飲み物にこだわっている", exclude: [] },
      { text: "推し活にハマっている", exclude: ["広", "東"] },
      { text: "自然の中で過ごすことにハマっている", exclude: ["京", "名", "広"] },
      { text: "料理や食に関するブームがある", exclude: ["東"] },
      { text: "動物やペットと過ごす時間が癒し", exclude: ["京", "九", "東"] },
      { text: "ラジオやポッドキャストをよく聴く", exclude: ["京", "名", "広"] },
      { text: "ゲーム実況・広告ゲーム・アプリ紹介動画を見ている", exclude: ["九", "東", "名"] },
      { text: "何かを『集める・探す』のがマイブーム", exclude: ["名", "東"] },
      { text: "冷蔵庫にヨーグルトを常備している", exclude: ["名"] },
      { text: "スマホゲームを最近やり込んでいる", exclude: ["東"] },
      { text: "自然の絶景（オーロラ・塩湖など）を見たい", exclude: [] },
      { text: "とにかく海外に長期滞在してみたい", exclude: ["九", "名", "広"] },
      { text: "猫や犬などペットと一緒に暮らしたい", exclude: ["京", "東"] },
      { text: "縁側や畳の上でのんびり過ごしたい", exclude: ["京", "名", "東"] },
      { text: "家族や友人とゆったり過ごすことが理想", exclude: ["名", "東"] },
      { text: "老後はゲームや趣味を充実させたい", exclude: ["九", "名", "広"] },
      { text: "思っていたより声や身長が違うと言われたことがある", exclude: ["京", "九", "名"] },
      { text: "運動できそうと言われたけど運動苦手", exclude: ["京", "東", "九"] },
      { text: "調理家電やキッチン用品を買って満足している", exclude: ["京", "名"] },
      { text: "服や傘など日常のおしゃれ系アイテム", exclude: ["東", "九"] },
      // 一般マス例：
      { text: "朝食は必ず食べる派", exclude: [] },
      { text: "家のWi-Fiがたまに不安定", exclude: [] },
      { text: "最近コンビニスイーツにハマっている", exclude: [] },
      { text: "寝る前にYouTubeを見る習慣がある", exclude: [] },
      { text: "今年新しい趣味を始めた", exclude: [] },
    ];

    function generateBingo() {
      const uni = document.getElementById("university").value;
      if (!uni) {
        alert("大学を選んでください");
        return;
      }

      const candidates = bingoData.filter(d => !d.exclude.includes(uni));
      const selected = candidates.sort(() => 0.5 - Math.random()).slice(0, 15);

      // ランダムなFreeマス位置（中央除く）: index 5,6,9,10
      const freePositions = [5, 6, 9, 10];
      const freeIndex = freePositions[Math.floor(Math.random() * freePositions.length)];

      const bingoContainer = document.getElementById("bingo");
      bingoContainer.innerHTML = "";

      let counter = 0;
      for (let i = 0; i < 16; i++) {
        const cell = document.createElement("div");
        cell.className = "cell";
        if (i === freeIndex) {
          cell.classList.add("free");
          cell.innerText = "FREE";
        } else {
          cell.innerText = selected[counter].text;
          counter++;
        }
        bingoContainer.appendChild(cell);
      }
    }
  </script>
</body>
</html>
