<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>‰∫§ÊµÅÂûã„Éì„É≥„Ç¥</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 20px;
    }
    #message {
      font-size: 1.2em;
      margin: 10px;
      color: green;
      font-weight: bold;
    }
    table {
      margin: 0 auto;
      border-collapse: collapse;
    }
    td {
      width: 180px;
      height: 120px;
      border: 1px solid #333;
      padding: 10px;
      cursor: pointer;
      vertical-align: middle;
      text-align: center;
      font-size: 0.9em;
      background-color: white;
      transition: background-color 0.2s;
    }
    td.checked {
      background-color: gold;
    }
    td.free {
      background-color: lightgray;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <h1>‰∫§ÊµÅÂûã„Éì„É≥„Ç¥</h1>
  <div id="message"></div>
  <table id="bingo">
    <tbody>
      <!-- „Éì„É≥„Ç¥„Éû„Çπ„Åå„Åì„Åì„Å´ÁîüÊàê„Åï„Çå„Åæ„Åô -->
    </tbody>
  </table>

  <script>
    const items = [
      "Êµ∑Â§ñÊóÖË°å„Å´Ë°å„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "Ê¨°„Å´Ë°å„Åç„Åü„ÅÑÂ†¥ÊâÄ„Å®„Åó„Å¶Êµ∑Â§ñ„ÅÆÈÉΩÂ∏Ç„ÇíÊåô„Åí„Çã‰∫∫",
      "„Ç≠„É£„É≥„Éó„Çí„Åó„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "„Çπ„Ç≠„Éº„ÇÑ„Çπ„Éé„Éº„Éú„Éº„Éâ„Çí„Åó„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "ÁôªÂ±±„Çí„Åó„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "Èü≥Ê•Ω„Éï„Çß„Çπ„ÇÑÈáéÂ§ñ„É©„Ç§„Éñ„Å´Ë°å„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "„ÅäÁ¨ë„ÅÑ„É©„Ç§„Éñ„ÇíË¶≥„Å´Ë°å„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "‰∏Ä‰∫∫ÊóÖ„Çí„Åó„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "ÊØéÊó•„Ç≥„Éº„Éí„Éº„ÇíÈ£≤„ÇÄ‰∫∫",
      "Á¥ÖËå∂„Çí„Çà„ÅèÈ£≤„ÇÄ‰∫∫",
      "„É®„Éº„Ç∞„É´„Éà„ÇíÂ∏∏ÂÇô„Åó„Å¶„ÅÑ„Çã‰∫∫",
      "ÈÄ±„Å´3Âõû‰ª•‰∏äËá™ÁÇä„Åô„Çã‰∫∫",
      "Ë™≠Êõ∏„ÇíË∂£Âë≥„Å´„Åó„Å¶„ÅÑ„Çã‰∫∫",
      "„Ç¢„Éã„É°„ÇíË¶≥„Çã„ÅÆ„ÅåÂ•Ω„Åç„Å™‰∫∫",
      "Êò†ÁîªÈ§®„ÅßÊúà„Å´1Êú¨‰ª•‰∏äÊò†Áîª„ÇíË¶ã„Çã‰∫∫",
      "Podcast„ÇíËÅ¥„ÅÑ„Å¶„ÅÑ„Çã‰∫∫",
      "ÈÄ±„Å´3Âõû‰ª•‰∏ä‰Ωï„Åã„Åó„ÇâÈÅãÂãï„Åô„Çã‰∫∫",
      "„É®„Ç¨„ÇÑ„Çπ„Éà„É¨„ÉÉ„ÉÅ„ÇíÁ∂ö„Åë„Å¶„ÅÑ„Çã‰∫∫",
      "Á≠ã„Éà„É¨„Çí„Åó„Å¶„ÅÑ„Çã‰∫∫",
      "Ë¶≥ËëâÊ§çÁâ©„ÇíËÇ≤„Å¶„Å¶„ÅÑ„Çã‰∫∫",
      "„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„Çí„Åó„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "ÊúÄËøë„ÄÅ„Ç¨„Ç∏„Çß„ÉÉ„Éà„ÇÑÂÆ∂Èõª„ÇíË≤∑„Å£„Å¶„ÄåËâØ„Åã„Å£„ÅüÔºÅ„Äç„Å®ÊÄù„Å£„Åü‰∫∫",
      "„Ç¢„É´„Éê„Ç§„ÉàÁµåÈ®ì„Åå„ÅÇ„Çã‰∫∫",
      "Â≠¶‰ºö„ÇÑÁ†îÁ©∂Áô∫Ë°®„Çí„Åó„Åü„Åì„Å®„Åå„ÅÇ„Çã‰∫∫",
      "„ÄåÊúÄËøë„ÅÆ„Éû„Ç§„Éñ„Éº„É†„Äç„Åå„ÅÇ„Çã‰∫∫",
      "Âèã‰∫∫„Å´„Äå‰∫∫Ë¶ãÁü•„Çä„Äç„Å®Ë®Ä„Çè„Çå„Çã„Åì„Å®„Åå„ÅÇ„Çã‰∫∫"
    ];

    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    const shuffled = shuffle(items).slice(0, 15);
    const board = [...shuffled.slice(0, 6), "FREE", ...shuffled.slice(6)];

    const table = document.querySelector("#bingo tbody");
    const message = document.getElementById("message");

    function checkLine(cells) {
      return cells.every(cell => cell.classList.contains("checked") || cell.classList.contains("free"));
    }

    function checkBingo() {
      const cells = [...document.querySelectorAll("td")];
      let bingo = false;
      let reach = false;
      const lines = [];

      // Rows
      for (let i = 0; i < 4; i++) {
        lines.push(cells.slice(i * 4, i * 4 + 4));
      }
      // Columns
      for (let i = 0; i < 4; i++) {
        lines.push([cells[i], cells[i + 4], cells[i + 8], cells[i + 12]]);
      }
      // Diagonals
      lines.push([cells[0], cells[5], cells[10], cells[15]]);
      lines.push([cells[3], cells[6], cells[9], cells[12]]);

      for (const line of lines) {
        const count = line.filter(cell => cell.classList.contains("checked") || cell.classList.contains("free")).length;
        if (count === 4) bingo = true;
        else if (count === 3) reach = true;
      }

      if (bingo) message.textContent = "üéâ „Éì„É≥„Ç¥ÔºÅ";
      else if (reach) message.textContent = "„ÅÇ„Å®‰∏ÄÊ≠©„Åß„Éì„É≥„Ç¥Ôºà„É™„Éº„ÉÅÔºâÔºÅ";
      else message.textContent = "";
    }

    for (let row = 0; row < 4; row++) {
      const tr = document.createElement("tr");
      for (let col = 0; col < 4; col++) {
        const idx = row * 4 + col;
        const td = document.createElement("td");
        td.textContent = board[idx];
        if (board[idx] === "FREE") {
          td.classList.add("free", "checked");
        } else {
          td.addEventListener("click", () => {
            td.classList.toggle("checked");
            checkBingo();
          });
        }
        tr.appendChild(td);
      }
      table.appendChild(tr);
    }
  </script>
</body>
</html>
